<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css">

<div class="container">
    <div class="form-container">
        <ul id="progressbar">
            <li id="account"><strong>Account</strong></li>
            <li class="active" id="personal"><strong>Personal</strong></li>
            <li id="payment"><strong>Payment</strong></li>
            <li id="confirm"><strong>Finish</strong></li>
        </ul>
    <form [formGroup]="serviceDetails">
        <mat-form-field>
            <mat-label>Choose office</mat-label>
            <mat-select formControlName="office" (selectionChange)="onOfficesSelectionChange()">
                <mat-option *ngFor="let office of officesSource" value="{{office.officeId}}">{{office.officeAddress}}</mat-option>
            </mat-select>
        </mat-form-field>
        <mat-form-field>
            <mat-label>Choose doctor</mat-label>
            <mat-select formControlName="doctor">
                <mat-option *ngFor="let doctor of doctorsSource" value="{{doctor.userId}}">{{doctor.firstName}}</mat-option>
            </mat-select>
        </mat-form-field>
        <mat-form-field>
            <mat-label>Choose a date</mat-label>
            <input formControlName="appointmentDate" matInput [matDatepicker]="picker" placeholder="Choose a date" (dateChange)="onDateChange()">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
        <mat-form-field>
            <mat-label>Choose time</mat-label>
            <mat-select formControlName="appointmentTime">
                <mat-option *ngFor="let slot of timeSlots" value="{{slot}}">{{slot.hours}}:{{slot.minutes}}</mat-option>
            </mat-select>
        </mat-form-field>
        <div class="btn-container">
            <button class="btn btn-primary" (click)="doChangeStep('Back')">Back</button>
            <button class="btn btn-primary" [disabled]="!serviceDetails.valid" (click)="doChangeStep('Next')">Next</button>
        </div>
    </form>
    </div>
</div>